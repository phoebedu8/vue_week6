import{_ as g,c as r,a as t,F as l,e as $,o as d,n as b,t as c,b as y,w as P,d as h,r as f}from"./index.0f1400e8.js";const{VITE_APP_URL:n,VITE_APP_PATH:i}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"yiijiee118",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},v={data(){return{products:[],carts:[],cartData:{product_id:"",qty:1},isLoading:!1}},methods:{addCart(s,o=1){this.cartData.product_id=s,this.cartData.qty=o,this.$http.post(`${n}/api/${i}/cart`,{data:this.cartData}).then(e=>{alert(e.data.message),this.getCarts()}).catch(e=>{console.log(e)})},getCarts(){this.$http.get(`${n}/api/${i}/cart`).then(s=>{this.carts=s.data.data}).catch(s=>{console.log(s)})},getAllProducts(){this.$http.get(`${n}/api/${i}/products/all`).then(s=>{this.products=s.data.products,this.isLoading=!1}).catch(s=>{console.log(s)})},updateCart(s){this.cartData.product_id=s.id,this.cartData.qty=s.qty,this.$http.put(`${n}/api/${i}/cart/${s.id}`,{data:this.cartData}).then(o=>{this.getCarts(),alert(o.data.message)}).catch(o=>{console.log(o)})}},mounted(){this.getAllProducts()}},D=t("h5",{class:"my-4"},"\u7522\u54C1\u9801\u9762",-1),k={class:"container"},C={class:"mt-4"},m={class:"table align-middle"},A=t("thead",null,[t("tr",null,[t("th",null,"\u5716\u7247"),t("th",null,"\u5546\u54C1\u540D\u7A31"),t("th",null,"\u50F9\u683C"),t("th")])],-1),V={style:{width:"200px"}},x={class:"h5"},E={class:"h6"},L={class:"h5"},T={class:"btn-group btn-group-sm"},R=h("\u67E5\u770B\u7522\u54C1"),I=["onClick"],q=t("i",{class:"fas fa-spinner fa-pulse"},null,-1),w=h(" \u52A0\u5230\u8CFC\u7269\u8ECA "),B=[q,w];function U(s,o,e,N,_,u){const p=f("RouterLink");return d(),r(l,null,[D,t("div",k,[t("div",C,[t("table",m,[A,t("tbody",null,[(d(!0),r(l,null,$(_.products,a=>(d(),r("tr",{key:a.id},[t("td",V,[t("div",{style:b([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${a.imageUrl})`}])},null,4)]),t("td",null,c(a.title),1),t("td",null,[t("div",x,c(a.origin_price)+" \u5143",1),t("del",E,"\u539F\u50F9 "+c(a.origin_price)+" \u5143",1),t("div",L,"\u73FE\u5728\u53EA\u8981 "+c(a.price)+" \u5143",1)]),t("td",null,[t("div",T,[y(p,{to:`/product/${a.id}`,class:"btn btn-outline-secondary"},{default:P(()=>[R]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-outline-danger",onClick:S=>u.addCart(a.id)},B,8,I)])])]))),128))])])])])],64)}const F=g(v,[["render",U]]);export{F as default};
